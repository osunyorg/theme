.block-posts
    .top
        margin-bottom: $spacing-4
        a
            @include icon(arrow-right-line, after, true)
            @include hover-translate-icon
            text-decoration: none
    article
        .post-title
            a
                @include stretched-link
                text-decoration: none
        .post-content
            > * + * 
                margin-top: $spacing-2
            .media
                margin-top: 0
    
    &--grid
        .grid
            @include media-breakpoint-down(desktop)
                > li + li
                    margin-top: $spacing-5
            @include in-page-without-sidebar
                @include grid($block-posts-grid-columns)
                .media picture img
                    width: 100%
            @include in-page-with-sidebar
                @include grid(2)

    &--large
        .large
            > li + li
                    margin-top: $spacing-4
        .post
            @include small-arrow-right-hover('.more')
            .media
                &, img
                    aspect-ratio: auto
        @include media-breakpoint-down(desktop)
            .post
                [itemprop="abstract"]
                    margin-top: 0
                .post-author 
                    margin-right: 0
                    + time
                        display: inline
                        &::before
                            content: ' • '
                .post-categories
                    li
                        margin-right: space(2)
        @include media-breakpoint-up(desktop)
            .large
                .post
                    flex-direction: row
                    gap: var(--grid-gutter)
                    .post-title,
                    .post-subtitle
                        @include h2
                    [itemprop="abstract"]
                        margin-top: $spacing-3

        @include in-page-with-sidebar
            .large
                .post
                    @include media-breakpoint-down(xl)
                        flex-direction: column
                        gap: unset
                        [itemprop="abstract"]
                            margin-top: $spacing-2
                    @include media-breakpoint-up(xl)
                        .media,
                        .post-content
                            width: columns(4)
                @include media-breakpoint-up(xl)
                    &.without-images
                        .post
                            .post-content
                                width: columns(8)
        @include in-page-without-sidebar
            .large
                .post
                    gap: var(--grid-gutter)
                    .media
                        width: columns(6)
                    .post-content
                        width: columns(5)
                    .post-title,
                    .post-subtitle
                        @include lead
                &.without-images
                    .post
                        @include media-breakpoint-up(xl)
                            margin-left: offset(4)
                            .post-content
                                width: columns(6)
                        @include media-breakpoint-down(xl)
                            .post-content
                                width: columns(8)
    &--highlight
        .highlight-post
            .media
                margin-bottom: $spacing-2
                background: none
                img
                    aspect-ratio: auto
        .list
            @include list-reset
            margin-top: $spacing-3
            border-top: var(--border-width) solid var(--color-border)
            > li
                position: relative
                padding-bottom: $spacing-3
                margin-top: $spacing-3
                &:where(:not(:last-child))
                    border-bottom: var(--border-width) solid var(--color-border)
            article
                .post-meta
                    *::before
                        content: none
                        padding: 0
        article
            > * + * 
                margin-top: $spacing-2
            .media
                margin-top: 0
        @include media-breakpoint-down(desktop)
            .list
                border-top: var(--border-width) solid var(--color-border)
                [itemprop="abstract"]
                    margin-top: 0
        @include media-breakpoint-up(desktop)
            .highlight
                .post-title,
                .post-subtitle
                    @include h2
            .list
                article
                    .post-title,
                    .post-subtitle
                        @include h4

        @include in-page-with-sidebar
            .highlight-post
                .post
                    flex-direction: row
                    gap: var(--grid-gutter) // pour le cas où on masque l'image
                    .media
                        width: columns(3)
                        margin-bottom: 0
                    .post-content
                        width: columns(5)
            .list
                article
                    flex-direction: row
                    gap: var(--grid-gutter)
                    .post-content
                        width: columns(6)
                    .post-meta
                        margin-top: 0
                        text-align: right
                        width: columns(2)
                        > *
                            display: block
                        .post-author p::before
                            content: none
                    [itemprop="abstract"]
                        grid-column: 1 / 7
                        order: 3

        @include in-page-without-sidebar
            .highlight
                @include grid(2)
            .list
                border-top: 0
                margin-top: 0
                > li:first-child
                    margin-top: 0

    &--alternate 
        .alternate
            @include alternate("> li")
            @include media-breakpoint-up(desktop)
                &.without-images
                    .post
                        margin-top: 0 !important
            @include media-breakpoint-down(desktop)
                >li + li
                    margin-top: $spacing-5
                .post
                    .post-meta
                        margin-top: $spacing-1
                    .media
                        margin-bottom: $spacing-2

    &--carousel
        @include layout-carousel
        @include in-page-with-sidebar
            .post
                .post-title,
                .post-subtitle
                    @include h4
            .slider
                .slider-arrows
                    justify-content: space-between
                    width: columns(4)
                @include media-breakpoint-down(xxxl)
                    .slider-slide
                        width: columns(4)
                    .slider-arrows
                        width: columns(5)
        @include in-page-without-sidebar
            .block-content
                display: flex
                gap: var(--grid-gutter)
                .top
                    flex-shrink: 0
                    width: columns(3)
                .slider
                    .slider-arrows
                        justify-content: space-between
                        width: columns(9)

// Move this part to blocks/categories when categories block is ready
.block-posts
    .categories
        @include list-reset
        li
            background: var(--color-background-alt)
            padding: $spacing-3
            position: relative
            + li
                margin-top: $spacing-3
            a
                @include h3
                font-weight: bold
                text-decoration: none
                @include stretched-link
            p
                display: block
        @include in-page-without-sidebar
            @include grid(4, xxl)