{{ $page_class := "" }}
{{ if .Params.bodyclass }}
  {{- $page_class = printf "block-page-%s" .Params.bodyclass }}
{{ end }}
{{ $show_images := eq site.Params.pages.index.layout "grid" }}

<div class="block block-pages block-pages--children block-pages--{{ site.Params.pages.index.layout }} {{ $page_class }}">
  <div class="container">
    <div class="block-content">
      {{- partial (printf "blocks/templates/pages/%s.html" site.Params.pages.index.layout) (dict 
          "pages" .Params.children
          "show_images" $show_images
          "heading_level" 2
          "show_descriptions" true
          ) }}
    </div>
  </div>
</div>