{{ partial "categories/single/hero.html" . }}

<div class="document-content">
  {{ partial "toc/container.html" (dict
    "toc" "toc/default.html"
    "context" .
  ) }}

  {{ partial "categories/single/summary.html" (dict
    "context" .
    "block_wrapped" true
  ) }}

  {{ partial "contents/list.html" . }}

  {{ if .Params.children}}
    <div class="container category-children">
      <ul>
        {{ range .Params.children }}
          <li>
            {{ partial "categories/partials/category" (dict 
                  "category" .
                  "options" (dict "summary" false)
                ) }}
          </li>
        {{ end }}
      </ul>
    </div>
  {{ end }}

  <div class="container">
    {{ $section_type := strings.TrimSuffix "_categories" .Type }}
    {{ $list_partial := printf "%s/partials/%s.html" $section_type $section_type }}
    {{ if templates.Exists ( printf "partials/%s" $list_partial ) }}
      {{ partial $list_partial . }}
    {{ end }}
    {{ partial "commons/pagination.html" . }}
  </div>
</div>