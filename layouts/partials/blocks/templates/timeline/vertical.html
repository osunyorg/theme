{{ $heading_tag := partial "GetHeadingTag" (dict 
  "level" .block.ranks.children
  "attributes" "class='title' itemprop='name'"
)}}

{{ with .block.data -}}
  <div class="timeline-events">
    {{ range .events -}}
      <article class="timeline-event" itemscope itemtype="https://schema.org/Article">
        {{ with .title }}
          {{ $heading_tag.open -}}
            {{ . | safeHTML }}
          {{ $heading_tag.close -}}
        {{ end }}
        {{ with .text }}
          <div itemprop="text">{{- partial "PrepareHTML" . -}}</div>
        {{ end }}
      </article>
    {{ end -}}
  </div>
{{ end -}}
