{{ $about := .Title }}
<div class="backlinks">
  {{ with .Params.backlinks.current_website }}
    {{ if .events }}
      {{ partial "blocks/templates/agenda.html" (dict
        "block" (dict 
          "title" (printf "%s %s" (i18n "events.backlinks.projects") $about)
          "template" "agenda"
          "ranks" (dict 
            "self" 2
            "children" 3
          )
          "data" (dict
            "layout" "grid"
            "events" .events
            "show_summary" true
          )
        )
      ) }}
    {{ end }}
    {{ if .projects }}
      {{ partial "blocks/templates/projects.html" (dict
        "block" (dict 
          "title" (printf "%s %s" (i18n "persons.backlinks.projects") $about)
          "template" "projects"
          "ranks" (dict
            "self" 2
            "children" 3
          )
          "data" (dict
            "projects" .projects
          )
        )
      ) }}
    {{ end }}
    {{ if .pages }}
      {{ partial "blocks/templates/pages.html" (dict
        "block" (dict 
          "title" (printf "%s %s" (i18n "pages.backlinks.projects") $about)
          "template" "pages"
          "ranks" (dict 
            "self" 2
            "children" 3
          )
          "data" (dict 
            "layout" "grid"
            "show_main_description" false
            "show_descriptions" true
            "show_images" true
            "pages" .pages
          )
        )
      ) }}
    {{ end }}
    {{ if .posts }}
      {{ $posts := slice }}
      {{ range .posts }}
        {{ $posts = $posts | append .path }}
      {{ end }}
      {{ partial "blocks/templates/posts.html" (dict
        "block" (dict 
          "title" (printf "%s %s" (i18n "posts.backlinks.projects") $about)
          "template" "posts"
          "ranks" (dict 
            "self" 2
            "children" 3
          )
          "data" (dict
            "layout" "grid"
            "posts" $posts
          )
        )
      ) }}
    {{ end }}
  {{ end }}
</div>